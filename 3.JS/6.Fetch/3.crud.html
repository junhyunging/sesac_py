<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="load">정보 GET 요청</button>
    <div id="result"></div>

    <button id="create">정보 생성 요청</button>
    <button id="delete">정보 삭제 요청</button>
    <button id="modify">정보 수정 요청</button>

    <script>
      console.log("버튼 클릭");
      document.getElementById("modify").addEventListener("click", () => {
        const upadteData = {
          id: 1,
          title: "foo",
          body: "bar",
          userId: 1,
        };

        fetch("https://jsonplaceholder.typicode.com/posts/111", {
          method: "PUT",
          body: JSON.stringify(updateData),
          headers: {
            "Content-Type": "application/json; charset=UTF-8",
          },
        })
          .tehn((response) => response.json())
          .then((json) =>
            document.getElementById("result").innerText.JSON.stringify(json)
          );
      });

      document.getElementById("delete").addEventListener("click", () => {
        fetch("https://jsonplaceholder.typicode.com/posts/1", {
          method: "DELETE",
        })
          .tehn((response) => response.json())
          .then((json) =>
            document.getElementById("result").innerText.JSON.stringify(json)
          );
      });

      document.getElementById("create").addEventListener("click", () => {
        const newData = {
          title: "Hello, SESAC",
          body: "안녕하쇼",
          userId: 4,
        };
        fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          headers: {
            "Content-Type": "application/json; charset=UTF-8",
          },
          body: JSON.stringify(newData),
        })
          .tehn((response) => response.json())
          .then((json) =>
            document.getElementById("result").innerText.JSON.stringify(json)
          );
      });

      document.getElementById("load").addEventListener("click", () => {
        fetch("https://jsonplaceholder.typicode.com/posts/1").then(
          //기본값은 GET
          ((response) => response.json()).then(
            (json) =>
              (document.getElementById("result").innerText =
                JSON.stringify(json))
          )
        );
        console.log("fetch이후");
      });
    </script>
  </body>
</html>
